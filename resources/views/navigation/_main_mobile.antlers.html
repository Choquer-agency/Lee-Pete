{{#
	@name Main mobile navigation
	@desc The sites main mobile navigation rendered on each page. It's 2 levels deep by default and uses AlpineJS for interactivity.
#}}

<!-- /navigation/_main_mobile.antlers.html -->
<nav
    x-data="{ mobileNavOpen: false }"
    class="lg:hidden"
>
    <button
        @click.prevent="mobileNavOpen = !mobileNavOpen"
        class="absolute right-3.5 md:right-7 top-0 h-full flex items-center justify-center focus:outline-none focus-visible:ring-2 ring-primary ring-offset-2 ml-auto"
        :aria-label="
        mobileNavOpen
            ? '{{ trans:strings.nav_close }}'
            : '{{ trans:strings.nav_open }}'
        "
        :aria-expanded="mobileNavOpen"
    >
        <svg width="17px" height="13px" viewBox="0 0 17 13" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x-show="!mobileNavOpen">
            <g stroke="none" stroke-width="1" fill="none" fill-rule="evenodd" stroke-linecap="square">
                <g id="header_mob" transform="translate(-339.000000, -15.000000)" stroke="#132F57" stroke-width="2">
                    <g id="hamburger-menu" transform="translate(340.000000, 16.000000)">
                        <path d="M0.357142857,0.25 L14.6428571,0.25"></path>
                        <path d="M0.357142857,5.32692308 L14.6428571,5.32692308"></path>
                        <path d="M0.357142857,10.4038462 L14.6428571,10.4038462"></path>
                    </g>
                </g>
            </g>
        </svg>
        <svg width="15px" height="15px" viewBox="0 0 15 15" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x-show="mobileNavOpen">
            <g stroke="none" stroke-width="1" fill="none" fill-rule="evenodd" stroke-linecap="square">
                <g id="mobile_menu" transform="translate(-341.000000, -15.000000)" stroke="#132F57" stroke-width="2">
                    <g id="hamburger_menu_close" transform="translate(341.000000, 15.000000)">
                        <path d="M1.66666667,13.3333333 L13.3333333,1.66666667"></path>
                        <path d="M1.66666667,13.3333333 L13.3333333,1.66666667" transform="translate(7.500000, 7.500000) scale(1, -1) translate(-7.500000, -7.500000) "></path>
                    </g>
                </g>
            </g>
        </svg>
    </button>

    <div
        class="absolute left-0 top-full z-10 flex flex-col justify-between bg-white/90 backdrop-blur-sm h-screen w-full py-16 border-t border-neutral-dark"
        x-show="mobileNavOpen"
        x-trap.inert.noscroll="mobileNavOpen"
        x-cloak
    >
        <ul class="flex flex-col space-y-5 m-0 overflow-auto items-center list-none text-center">
            {{ nav:main_mobile max_depth="2" include_home="true" }}
                <li
                    {{ if children }}
                        x-data="{ mobileNavSubnavOpen: false }"
                    {{ /if }}
                    class="leading-4"
                >
                    <a class="w-full flex items-center space-x-1 uppercase tracking-wide no-underline {{ is_current ? 'font-bold' : 'font-semibold' }}" href="{{ url }}">
                        <span>{{ title }}</span>
                    </a>
                </li>
            {{ /nav:main_mobile }}
        </ul>
		{{ partial src="navigation/social_icons" }}
    </div>
</nav>
<!-- End: /navigation/_main_mobile.antlers.html -->
